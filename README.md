Задание для юных джавистов

Задание направлено на проверку у джавистов способности самостоятельно изучать и применять новые технологии в разработке, проверку и оценку навыков разработчика ПО

Саша - frontend developer, живет в Эмиратах и владеет салоном по продаже и обслуживанию дорогих мелкосерийных транспортных средств (далее ТС). В салоне представлены ТС широкого спектра: авиация, авто и мототранспорт, самоходные судна различных предназначений. 
В салоне необходима автоматизация процесса торговли, обслуживания и учёта ТС. Саша просит вас, как опытного разработчика, написать часть ПО для автоматизации данного процесса, а именно модуль учёта продаж и покупок, ведения статистики проданных и купленных ТС, со своей базой данных (далее БД).
Для вас определены некоторые (не все) интерфейсы, согласно которым данные должны будут поступать и запрашиваться посредством http запросов к сервису, т.к. часть модулей, работающая с вашим, уже написана.

Требования к функциональным характеристикам представлены ниже в порядке приоритета к реализации (по убыванию)

--------------------------------------------------------------------------------------------------------------------

*Назначение функции api:*  Добавить купленное ТС в БД сервиса

*Адрес:* service-address:port/vehicle

*Тип запроса:* POST

*Тело запроса:* json

*Пример тела запроса:*
```json
{
  "vehicleType":"supercar",
  "marque":"Isdera",
  "model":"Imperator 108i",
  "engine":"Mercedes V8",
  "enginePowerBhp":390,
  "topSpeedMph":171,
  "datePurchase":"2019-02-03 10:08:02",
  "costUsd":135000,
  "price":150000
}
```
Пример ответа:
```json
{
  "guid":"8b5e6a6f-f797-4f41-a781-d351bcf5fabf",
  "vehicleType":"supercar",
  "marque":"isdera",
  "model":"imperator 108i",
  "engine":"mercedes v8",
  "enginePowerBhp":390,
  "topSpeedMph":171,
  "costUsd":135000,
  "price":150000,
  "dateInsert":"2019-02-03 10:08:02",
  "datePurchase":"2019-02-03 10:08:02",
  "status":"in stock"
}
```
Дополнительная информация:
При добавлении у транспортного средства в БД должен генерироваться и заполняться guid автоматически.
Поле в базе данных, соответствующее полю dateInsert в json'е должно заполняться текущими датой и временем.
По аналогии необходимо добавить в таблицу в БД поле даты и времени обновления записи и заполнять текущими датой и временем при обновлении записи в БД.

При отсутствии статуса в БД при добавлении ТС с новым статусом, новый статус должен добавляться В БД автоматически. По аналогии с маркой и типом ТС.

--------------------------------------------------------------------------------------------------------------------

*Назначение функции api:*  Обновить ТС в БД сервиса

*Адрес:* service-address:port/vehicle

*Тип запроса:* PUT

*Тело запроса:* json

*Пример тела запроса:* аналогично прошлому запросу, должен присутствовать guid по которому будут обновляться другие поля

--------------------------------------------------------------------------------------------------------------------

*Назначение функции api:* Поиск ТС по заданным критериям в БД сервиса

*Адрес:* service-address:port/vehicle/search

*Пример запроса:* service-address:port/vehicle/search?vehicleType=supercar&marque=isdera&model=imperator%20108i

*Тип запроса:* GET

*Пример ответа:*
```json
[
  {
    "guid":"8b5e6a6f-f797-4f41-a781-d351bcf5fabf",
    "vehicleType":"supercar",
    "marque":"isdera",
    "model":"imperator 108i",
    "engine":"mercedes V8",
    "enginePowerBhp":390,
    "topSpeedMph":171,
    "costUsd":135000,
    "price":150000,
    "dateInsert":"2019-02-03 10:08:02",
    "status":"in stock"
  },
  {
    "guid":"b102e652-2947-4ff7-873f-b4312e5827af",
    "vehicleType":"supercar",
    "marque":"isdera",
    "model":"imperator 108i",
    "engine":"mercedes v8",
    "enginePowerBhp":516,
    "topSpeedMph":195,
    "costUsd":175000,
    "price":200000,
    "dateInsert":"2018-01-07 11:07:01",
    "status":"sold"
  }
]
```
*Дополнительная информация:*

Поиск должен осуществляться как минимум по следующим параметрам:
- vehicleType
- marque
- model
- engine
- status
Как минимум один параметр сделать необязательным. При поиске записей в БД его не учитывать при его отсутствии.

--------------------------------------------------------------------------------------------------------------------

*Назначение функции api:* Получение ТС из БД сервиса по guid ТС, присвоенному ему при создании записи

*Адрес:* service-address:port/vehicle/{guid}

*Пример запроса:* service-address:port/vehicle/8b5e6a6f-f797-4f41-a781-d351bcf5fabf

*Тип запроса:* GET

*Пример ответа:*
```json
{
  "guid":"8b5e6a6f-f797-4f41-a781-d351bcf5fabf",
  "vehicleType":"supercar",
  "marque":"isdera",
  "model":"imperator 108i",
  "engine":"mercedes m8",
  "enginePowerBhp":390,
  "topSpeedMph":171,
  "costUsd":135000,
  "dateInsert":"2019-02-03 10:08:02"
}
```

*Назначение запроса:* Получение списка всех типов ТС с указанием количества ТС каждого из типов

*Адрес:* service-address:port/vehicle/types

*Тип запроса:* GET

*Пример ответа:*
```json
[
  {
    "name": "supercar",
    "count": 245
  },
  {
    "name": "jet",
    "count": 17
  },
  {
    "name": "ship",
    "count": 3
  },
  {
    "name": "helicopter",
    "count": 16
  },
  {
    "name": "submarine",
    "count": 1
  }
]
```
*Дополнительная информация:*
По аналогии сделать с маркой и статусом ТС.

--------------------------------------------------------------------------------------------------------------------

Разработать и реализовать метод, возвращающий наиболее популярные тип, статус, марку ТС в одном json объекте

--------------------------------------------------------------------------------------------------------------------

Разработать и реализовать метод, выбирающий случайную запись ТС из БД и заменяющую в ответе значения всех строковых параметров на строки с символами в обратном порядке.
Например:

```json
{
  "guid":"fbaf5fcb153d-187a-14f4-797f-f6a6e5b8",
  "vehicleType":"racrepus",
  "marque":"aredsi",
  "model":"i801 rotarepmi",
  "engine":"8v sedecrem",
  "enginePowerBhp":390,
  "topSpeedMph":171,
  "costUsd":135000,
  "dateInsert":"2019-02-03 10:08:02"
}
```

--------------------------------------------------------------------------------------------------------------------

Разработать и реализовать внутреннюю функцию сервиса, не вынесенную в rest api, выполняющуюся каждые n минут и заменяющую price одному случайному ТС в БД на 0.
(Подсказка: @Scheduled)

--------------------------------------------------------------------------------------------------------------------

При запуске сервиса в случае, если в БД нет ни одного типа ТС, добавить следующие типы ТС:

- supercar
- jet
- ship
- helicopter

По аналогии с статусами:

- in stock
- sold
- reserved

Подсказка (Некоторые поля в json объекте могут отображаться в внешние ключи, ссылающиеся на записи других таблиц (@ManyToOne))

--------------------------------------------------------------------------------------------------------------------

Схема в БД должна синхронизироваться с моделью в сревисе автоматически, или по крайней мере, к исходному коду сервиса должен быть приложен DDL для создание необходимых обектов в БД

--------------------------------------------------------------------------------------------------------------------



Требования к программному обеспечению:

Язык программирования java 11

База данных postgresql

-------

Рекомендации:

Использование spring/spring-boot

Публикация исходников на сайте GitHub

Программа в виде одного исполняемого jar файла

Автоматизация сборки проекта с помощью apache maven

Использование ООП

-------

Оцениваются в порядке приоритета (по убыванию):

Соответствие результата работы программы ТЗ (Количество реализованных функций api/ их полнота и соответствие ТЗ)

Чистота кода

Применение ООП и разбитие функционала на классы/методы

Комментирование кода

Отсутствие багов и ошибок

Непонятное ТЗ? Пиши вопросы постановщику: https://vk.com/siberian.love
Нужна консультация по используемому стеку? Обратись к коллеге с бОльшим опытом: https://vk.com/siberian.love
А так же пожелания и вопросы пиши в ВК: https://vk.com/siberian.love
p.s.: Медвежьи услуги не оказываю.
